<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Cartes QR ‚Äî QRLocal</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ffffff">
<style>
  :root{--green:#0f6;--fg:#111}
  body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;color:var(--fg)}
  .topbar{position:sticky;top:0;background:#fff;border-bottom:1px solid #eee;padding:10px 16px;z-index:100}
  a.back{text-decoration:none;color:var(--green);font-weight:700}
  body{padding:0 12px 12px}
  .toolbar{background:#fff;border:1px solid #eee;border-radius:14px;padding:10px;margin:10px 0;display:flex;gap:8px;flex-wrap:wrap;align-items:center;box-shadow:0 6px 20px rgba(0,0,0,.03)}
  input,button{padding:10px;border:1px solid #ccc;border-radius:10px}
  .grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
  .card{background:#fff;border:1px solid #eee;border-radius:16px;padding:14px;text-align:center;page-break-inside:avoid;box-shadow:0 6px 20px rgba(0,0,0,.03)}
  .title{font-weight:800;margin-bottom:6px}
  .qr{width:200px;height:200px;margin:10px auto}
  .msg{font-size:14px;color:#333}
  @media print{ .topbar,.toolbar{display:none} .grid{gap:6px} .card{border:1px dashed #aaa;box-shadow:none} }
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
<div class="topbar"><a class="back" href="index.html">‚Üê Accueil</a></div>
<div class="toolbar">
  <b>G√©n√©rer</b>
  <input id="title" placeholder="Nom (ex: Boulangerie Martin)" style="min-width:240px">
  <input id="message" placeholder="Message (ex: Scannez pour nous soutenir)">
  <input id="url" placeholder="URL de la page (profile.html?...)" style="min-width:320px">
  <input id="count" type="number" value="6" min="1" max="60">
  <button onclick="generate()">G√©n√©rer</button>
  <button onclick="window.print()">Imprimer</button>
</div>
<div id="cards" class="grid"></div>
<script>
function generate(){
  const title = document.getElementById('title').value || 'QRLocal';
  const msg = document.getElementById('message').value || 'Scannez pour voir nos infos et soutenir üíö';
  const url = document.getElementById('url').value || location.href;
  const count = Math.max(1, Math.min(60, parseInt(document.getElementById('count').value || '6', 10)));
  const box = document.getElementById('cards'); box.innerHTML='';
  for(let i=0;i<count;i++){
    const card = document.createElement('div'); card.className='card';
    const t = document.createElement('div'); t.className='title'; t.textContent=title;
    const q = document.createElement('div'); q.className='qr';
    const m = document.createElement('div'); m.className='msg'; m.textContent = msg;
    card.appendChild(t); card.appendChild(q); card.appendChild(m); box.appendChild(card);
    new QRCode(q, { text: url, width: 200, height: 200 });
  }
}
</script>
</body>
</html>